Uploading blueprint cloudify/gcp.yaml...
 gcp.yaml |############################################################| 100.0%
Blueprint uploaded. The blueprint's id is cloudify-wordpress-blueprint-gcp
Creating new deployment from blueprint cloudify-wordpress-blueprint-gcp...
Deployment created. The deployment's id is gcp
Executing workflow `install` on deployment `gcp` [timeout=900 seconds]
Deployment environment creation is pending...
2019-08-08 14:05:32.103  CFY <gcp> Starting 'create_deployment_environment' workflow execution
2019-08-08 14:05:32.107  CFY <gcp> Installing deployment and workflow plugins
2019-08-08 14:05:32.208  CFY <gcp> Sending task 'cloudify_agent.operations.install_plugins'
2019-08-08 14:05:32.227  CFY <gcp> Task started 'cloudify_agent.operations.install_plugins'
2019-08-08 14:05:32.740  LOG <gcp> INFO: Installing plugin: gcp_plugin
2019-08-08 14:05:33.745  LOG <gcp> INFO: Using existing installation of managed plugin: e0a99ba4-54d6-4741-a773-4ec378dc8634 [package_name: cloudify-gcp-plugin, package_version: 1.4.4, supported_platform: linux_x86_64, distribution: centos, distribution_release: core]
2019-08-08 14:05:33.746  LOG <gcp> INFO: Installing plugin: ansible
2019-08-08 14:05:34.795  LOG <gcp> INFO: Using existing installation of managed plugin: 7142c593-6e52-429a-8a71-55266c022e02 [package_name: cloudify-ansible-plugin, package_version: 2.4.0, supported_platform: linux_x86_64, distribution: centos, distribution_release: core]
2019-08-08 14:05:34.796  LOG <gcp> INFO: Installing plugin: suspend
2019-08-08 14:05:36.022  LOG <gcp> INFO: Using existing installation of managed plugin: 62c3cd35-5a18-49fd-a670-48f9ad207b05 [package_name: cloudify-utilities-plugin, package_version: 1.14.0, supported_platform: linux_x86_64, distribution: centos, distribution_release: core]
2019-08-08 14:05:36.022  LOG <gcp> INFO: Installing plugin: scalelist
2019-08-08 14:05:36.895  LOG <gcp> INFO: Using existing installation of managed plugin: 62c3cd35-5a18-49fd-a670-48f9ad207b05 [package_name: cloudify-utilities-plugin, package_version: 1.14.0, supported_platform: linux_x86_64, distribution: centos, distribution_release: core]
2019-08-08 14:05:36.896  LOG <gcp> INFO: Installing plugin: configuration
2019-08-08 14:05:38.817  LOG <gcp> INFO: Using existing installation of managed plugin: 62c3cd35-5a18-49fd-a670-48f9ad207b05 [package_name: cloudify-utilities-plugin, package_version: 1.14.0, supported_platform: linux_x86_64, distribution: centos, distribution_release: core]
2019-08-08 14:05:38.818  CFY <gcp> Task succeeded 'cloudify_agent.operations.install_plugins'
2019-08-08 14:05:38.851  CFY <gcp> Creating deployment work directory
2019-08-08 14:05:39.156  CFY <gcp> 'create_deployment_environment' workflow execution succeeded
2019-08-08 14:05:44.236  CFY <gcp> Starting 'install' workflow execution
2019-08-08 14:05:46.784  CFY <gcp> [network_8w0x1a] Validating node instance before creation: nothing to do
2019-08-08 14:05:46.875  CFY <gcp> [network_8w0x1a] Precreating node instance: nothing to do
2019-08-08 14:05:47.285  CFY <gcp> [network_8w0x1a] Creating node instance
2019-08-08 14:05:47.442  CFY <gcp> [network_8w0x1a.create] Sending task 'cloudify_gcp.compute.network.create'
2019-08-08 14:05:49.556  LOG <gcp> [network_8w0x1a.create] INFO: Create network network-8w0x1a
2019-08-08 14:05:52.316  CFY <gcp> [network_8w0x1a.create] Task rescheduled 'cloudify_gcp.compute.network.create' -> Operation started
Traceback (most recent call last):
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 813, in main
    payload = handler.handle()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 464, in handle
    raise ctx.operation._operation_retry
OperationRetry: Operation started

2019-08-08 14:06:07.467  CFY <gcp> [network_8w0x1a.create] Sending task 'cloudify_gcp.compute.network.create' [retry 1/60]
2019-08-08 14:06:11.049  LOG <gcp> [network_8w0x1a.create] INFO: Get network network-8w0x1a details
2019-08-08 14:06:12.743  CFY <gcp> [network_8w0x1a.create] Task succeeded 'cloudify_gcp.compute.network.create' [retry 1/60]
2019-08-08 14:06:12.824  CFY <gcp> [network_8w0x1a] Node instance created
2019-08-08 14:06:13.349  CFY <gcp> [network_8w0x1a] Configuring node instance: nothing to do
2019-08-08 14:06:13.533  CFY <gcp> [network_8w0x1a] Starting node instance: nothing to do
2019-08-08 14:06:13.633  CFY <gcp> [network_8w0x1a] Poststarting node instance: nothing to do
2019-08-08 14:06:13.726  CFY <gcp> [network_8w0x1a] Node instance started
2019-08-08 14:06:14.741  CFY <gcp> [firewall_9so08o] Validating node instance before creation: nothing to do
2019-08-08 14:06:14.832  CFY <gcp> [firewall_9so08o] Precreating node instance: nothing to do
2019-08-08 14:06:14.887  CFY <gcp> [subnet_kcaunj] Validating node instance before creation
2019-08-08 14:06:14.938  CFY <gcp> [firewall_9so08o] Creating node instance
2019-08-08 14:06:15.140  CFY <gcp> [subnet_kcaunj.create] Sending task 'cloudify_gcp.compute.subnetwork.creation_validation'
2019-08-08 14:06:16.264  CFY <gcp> [firewall_9so08o.create] Sending task 'cloudify_gcp.compute.firewall.create'
2019-08-08 14:06:18.929  CFY <gcp> [subnet_kcaunj.create] Task succeeded 'cloudify_gcp.compute.subnetwork.creation_validation'
2019-08-08 14:06:18.999  CFY <gcp> [subnet_kcaunj] Node instance validated before creation
2019-08-08 14:06:19.103  CFY <gcp> [subnet_kcaunj] Precreating node instance: nothing to do
2019-08-08 14:06:19.326  CFY <gcp> [subnet_kcaunj] Creating node instance
2019-08-08 14:06:20.401  CFY <gcp> [subnet_kcaunj.create] Sending task 'cloudify_gcp.compute.subnetwork.create'
2019-08-08 14:06:20.401  CFY <gcp> [subnet_kcaunj.create] Sending task 'cloudify_gcp.compute.subnetwork.create'
2019-08-08 14:06:22.574  LOG <gcp> [subnet_kcaunj.create] INFO: Create subnetwork subnet-kcaunj
2019-08-08 14:06:23.455  CFY <gcp> [firewall_9so08o.create] Task succeeded 'cloudify_gcp.compute.firewall.create'
2019-08-08 14:06:23.845  CFY <gcp> [firewall_9so08o] Node instance created
2019-08-08 14:06:24.033  CFY <gcp> [firewall_9so08o] Configuring node instance: nothing to do
2019-08-08 14:06:24.138  CFY <gcp> [firewall_9so08o] Starting node instance: nothing to do
2019-08-08 14:06:24.262  CFY <gcp> [firewall_9so08o] Poststarting node instance: nothing to do
2019-08-08 14:06:24.340  CFY <gcp> [firewall_9so08o] Node instance started
2019-08-08 14:06:25.574  CFY <gcp> [subnet_kcaunj.create] Task rescheduled 'cloudify_gcp.compute.subnetwork.create' -> Operation started
Traceback (most recent call last):
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 813, in main
    payload = handler.handle()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 464, in handle
    raise ctx.operation._operation_retry
OperationRetry: Operation started

2019-08-08 14:06:40.703  CFY <gcp> [subnet_kcaunj.create] Sending task 'cloudify_gcp.compute.subnetwork.create' [retry 1/60]
2019-08-08 14:06:44.367  LOG <gcp> [subnet_kcaunj.create] INFO: Get subnetwork subnet-kcaunj details
2019-08-08 14:06:46.001  CFY <gcp> [subnet_kcaunj.create] Task succeeded 'cloudify_gcp.compute.subnetwork.create' [retry 1/60]
2019-08-08 14:06:46.124  CFY <gcp> [subnet_kcaunj] Node instance created
2019-08-08 14:06:46.409  CFY <gcp> [subnet_kcaunj] Configuring node instance: nothing to do
2019-08-08 14:06:46.497  CFY <gcp> [subnet_kcaunj] Starting node instance: nothing to do
2019-08-08 14:06:46.607  CFY <gcp> [subnet_kcaunj] Poststarting node instance: nothing to do
2019-08-08 14:06:46.842  CFY <gcp> [subnet_kcaunj] Node instance started
2019-08-08 14:06:47.440  CFY <gcp> [vm-database_3c1ezt] Validating node instance before creation: nothing to do
2019-08-08 14:06:47.543  CFY <gcp> [vm-database_3c1ezt] Precreating node instance: nothing to do
2019-08-08 14:06:48.124  CFY <gcp> [vm-database_3c1ezt] Creating node instance
2019-08-08 14:06:48.373  CFY <gcp> [vm-database_3c1ezt.create] Sending task 'script_runner.tasks.run'
2019-08-08 14:06:50.360  LOG <gcp> [vm-database_3c1ezt.create] INFO: Downloaded scripts/gcp/key.py to /tmp/PQ0R6/key.py
2019-08-08 14:06:51.001  CFY <gcp> [vm-database_3c1ezt.create] Task succeeded 'script_runner.tasks.run'
2019-08-08 14:06:51.236  CFY <gcp> [vm-database_3c1ezt] Node instance created
2019-08-08 14:06:51.571  CFY <gcp> [vm-database_3c1ezt] Configuring node instance
2019-08-08 14:06:51.736  CFY <gcp> [vm-database_3c1ezt.configure] Sending task 'cloudify_gcp.compute.instance.create'
2019-08-08 14:06:53.917  LOG <gcp> [vm-database_3c1ezt.configure] INFO: The script is 
2019-08-08 14:06:54.201  LOG <gcp> [vm-database_3c1ezt.configure] INFO: Adding bucket to metadata
2019-08-08 14:06:54.204  LOG <gcp> [vm-database_3c1ezt.configure] INFO: Adding sshKeys to metadata
2019-08-08 14:06:55.580  LOG <gcp> [vm-database_3c1ezt.configure] ERROR: Error traceback Traceback (most recent call last):
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/utils.py", line 262, in _decorator
    return func(*args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/compute/instance.py", line 422, in create
    utils.create(instance)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/utils.py", line 163, in _decorator
    return func(resource, *args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/utils.py", line 170, in create
    return resource.create()
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/utils.py", line 233, in wrapper
    response = func(self, *args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/gcp.py", line 34, in _decorator
    response = func(self, *args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/compute/instance.py", line 117, in create
    body=self.to_dict()).execute()
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/oauth2client/util.py", line 137, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/googleapiclient/http.py", line 832, in execute
    raise HttpError(resp, content, uri=self.uri)
HttpError: <HttpError 400 when requesting https://www.googleapis.com/compute/v1/projects/node2faas-248113/zones/us-east4-a/instances?alt=json returned "Invalid value for field 'resource.networkInterfaces[0].subnetwork': 'https://www.googleapis.com/compute/v1/projects/node2faas-248113/regions/southamerica-east1/subnetworks/subnet-kcaunj'. Instance must be in the same region as the subnetwork.">
 with message <HttpError 400 when requesting https://www.googleapis.com/compute/v1/projects/node2faas-248113/zones/us-east4-a/instances?alt=json returned "Invalid value for field 'resource.networkInterfaces[0].subnetwork': 'https://www.googleapis.com/compute/v1/projects/node2faas-248113/regions/southamerica-east1/subnetworks/subnet-kcaunj'. Instance must be in the same region as the subnetwork.">
2019-08-08 14:06:55.580  LOG <gcp> [vm-database_3c1ezt.configure] ERROR: Error Message 
2019-08-08 14:06:56.292  CFY <gcp> [vm-database_3c1ezt.configure] Task failed 'cloudify_gcp.compute.instance.create'
Traceback (most recent call last):
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 813, in main
    payload = handler.handle()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 461, in handle
    result = self._run_operation_func(ctx, kwargs)
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 519, in _run_operation_func
    return self.func(*self.args, **kwargs)
  File "/opt/mgmtworker/env/plugins/default_tenant/cloudify-gcp-plugin-1.4.4/lib/python2.7/site-packages/cloudify_gcp/utils.py", line 277, in _decorator
    raise NonRecoverableError(error.message)
NonRecoverableError

2019-08-08 14:06:56.793  CFY <gcp> 'install' workflow execution failed: RuntimeError: Workflow failed: Task failed 'cloudify_gcp.compute.instance.create'
Execution of workflow install for deployment gcp failed. [error=Traceback (most recent call last):
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 664, in _remote_workflow_child_thread
    workflow_result = self._execute_workflow_function()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/dispatch.py", line 693, in _execute_workflow_function
    result = self.func(*self.args, **self.kwargs)
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/plugins/workflows.py", line 31, in install
    node_instances=set(ctx.node_instances))
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/plugins/lifecycle.py", line 29, in install_node_instances
    processor.install()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/plugins/lifecycle.py", line 102, in install
    graph.execute()
  File "/opt/mgmtworker/env/lib/python2.7/site-packages/cloudify/workflows/tasks_graph.py", line 237, in execute
    raise self._error
RuntimeError: Workflow failed: Task failed 'cloudify_gcp.compute.instance.create'
]
* Run 'cfy events list 2f2a1338-fd32-4d12-9dc3-9aeaa1c8876a' to retrieve the execution's events/logs
